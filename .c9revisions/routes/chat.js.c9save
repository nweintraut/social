{"ts":1367708775396,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1367709091903,"patch":[[{"diffs":[[1,"module.exports = function(app){\n    var io = require('socket.io');\n    var utils = require('connect').utils;\n    var cookie = require('cookie');\n    var Session = require('connect').middleware.session.Session;\n    \n    var sio = io.listen(app.server);\n    \n    sio.configure(function(){\n        sio.set('authorization', function(data, accept){\n            var signedCookies = cookie.parse(data.headers.cookie);\n            var cookies = utils.parseSignedCookies(signedCookies, app.sessionSecret);\n            data\n        });\n    });\n};"]],"start1":0,"start2":0,"length1":0,"length2":536}]],"length":536,"saved":false}
{"ts":1367709151595,"patch":[[{"diffs":[[0,"    data"],[1,".sessionId = cookies['express.sid'];\n            data.sessionStore = app.sessionStore;\n            data.sessionStore.get(data.sessionID, function(err, session){\n                \n            });"],[0,"\n       "]],"start1":505,"start2":505,"length1":16,"length2":209}]],"length":729,"saved":false}
{"ts":1367709254483,"patch":[[{"diffs":[[0,"            "],[1,"if(err || !session) {\n                    return accept('Invalid session', false);\n                } else {\n                    data.session = new Session(data,session);\n                    accept(null, true);\n                }"],[0,"\n           "]],"start1":678,"start2":678,"length1":24,"length2":251}]],"length":956,"saved":false}
{"ts":1367709364071,"patch":[[{"diffs":[[0,"        });\n"],[1,"        sio.sockets.on('connection', function(socket){\n           var session = socket.handshake.session;\n           var accountId = session.accountId;\n           socket.join(accountId);\n           socket.on('chatclient', function(data){\n               sio.sockets.in(data.io).emit('chatserver', { from: accountId, text: data.text});\n           });\n        });\n"],[0,"    });\n};"]],"start1":934,"start2":934,"length1":22,"length2":383}]],"length":1317,"saved":false}
