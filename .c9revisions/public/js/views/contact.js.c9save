{"ts":1367038012715,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1367037980163,"patch":[[{"diffs":[[1,"define(['SocialNetView', 'text!templates/contact.html'], function(SocialNetView, contactTemplate) {\n  var contactView = SocialNetView.extend({\n    addButton: false,\n\n    removeButton: false,\n\n    tagName: 'li',\n\n    events: {\n      \"click .addbutton\": \"addContact\",\n      \"click .removebutton\": \"removeContact\"\n    },\n\n    addContact: function() {\n      var $responseArea = this.$('.actionArea');\n      $.post('/accounts/me/contact',\n        {contactId: this.model.get('_id')},\n        function onSuccess() {\n          $responseArea.text('Contact Added');\n        }, function onError() {\n          $responseArea.text('Could not add contact');\n        }\n      );\n    },\n\n    removeContact: function() {\n      var $responseArea = this.$('.actionarea');\n      $responseArea.text('Removing contact...');\n      $.ajax({\n        url: '/accounts/me/contact',\n        type: 'DELETE',\n        data: {\n          contactId: this.model.get('accountId')\n        }}).done(function onSuccess() {\n          $responseArea.text('Contact Removed');\n        }).fail(function onError() {\n          $responseArea.text('Could not remove contact');\n        });\n    },\n\n    initialize: function() {\n      // Set the addButton variable in case it has been added in the constructor\n      if ( this.options.addButton ) {\n        this.addButton = this.options.addButton;\n      }\n\n      if ( this.options.removeButton ) {\n        this.removeButton = this.options.removeButton;\n      }\n    },\n\n    render: function() {\n      $(this.el).html(_.template(contactTemplate, {\n        model: this.model.toJSON(),\n        addButton: this.addButton,\n        removeButton: this.removeButton\n      }));\n      return this;\n    }\n  });\n\n  return contactView;\n});"]],"start1":0,"start2":0,"length1":0,"length2":1719}]],"length":1719,"saved":false}
